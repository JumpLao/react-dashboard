!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("yup"),require("react-use"),require("react-hook-form"),require("@ant-design/compatible"),require("@ant-design/compatible/assets/index.css"),require("lodash"),require("react"),require("antd")):"function"==typeof define&&define.amd?define(["exports","yup","react-use","react-hook-form","@ant-design/compatible","@ant-design/compatible/assets/index.css","lodash","react","antd"],t):t(e.form={},e.yup,e.reactUse,e.useForm,e.compatible,0,e.lodash,e.react,e.antd)}(this,function(e,t,a,n,r,o,i,l,u){var s="default"in n?n.default:n;i=i&&i.hasOwnProperty("default")?i.default:i;var c="default"in l?l.default:l,f=function(e){var t,a=e.name;void 0===a&&(a=void 0);var o=e.label;void 0===o&&(o=" ");var u=e.colon;void 0===u&&(u=!1);var s=e.defaultValueKey;void 0===s&&(s="defaultValue");var f=e.changeEvent;void 0===f&&(f="onChange");var m=e.eventValueGetter;void 0===m&&(m=function(e){return e.target.value});var d=e.children,p=e.formItemLayout;void 0===p&&(p={labelAlign:"right",labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}});var v=e.onValueChange;void 0===v&&(v=function(e){});var b,g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(a[n]=e[n]);return a}(e,["name","label","colon","defaultValueKey","changeEvent","eventValueGetter","children","formItemLayout","onValueChange"]),h=n.useFormContext(),y=h.register,O=h.unregister,x=h.setValue,j=h.errors,E=h.getValues,I=l.useState(""),V=I[0],C=I[1];l.useEffect(function(){return a?(console.log("register field",a),y({name:a}),function(){return O(a)}):function(){}},[y,a,O]),l.useEffect(function(){var e=i.get(j,a);return e&&C(e.message),function(){C("")}},[j,a]),V&&(b="error");var q=i.get(E(),a),S=Object.assign({},g,((t={})[f]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=m.apply(void 0,e);console.log("update field",a,n),x(a,n),v(n)},t[s]=q,t));return c.createElement(r.Form.Item,Object.assign({},p,{colon:u,hasFeedback:!1,label:o,validateStatus:b,help:V,required:!1}),c.Children.map(d,function(e,t){return c.cloneElement(e,Object.assign({},{key:t},S))}))};e.Form=function(e){var o=e.children,i=e.onSubmit,l=e.defaultValues;void 0===l&&(l={});var u=e.validationSchema;void 0===u&&(u=t.object({}));var f=e.formItemLayout;void 0===f&&(f={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}}),a.useDeepCompareEffect(function(){console.log("default value change");var e=m.getValues();return Object.keys(e).forEach(function(e){try{m.setValue(e,l[e])}catch(e){throw console.log(e),e}}),function(){}},[l]);var m=s({defaultValues:l,validationSchema:u});return c.createElement(n.FormContext,m,c.createElement(r.Form,Object.assign({},f,{onSubmit:m.handleSubmit(function(e,t){i(e)})}),o))},e.InputWrapper=f,e.SubmitButton=function(e){var t=e.label,a=e.formItemOptions;void 0===a&&(a={});var n=e.children;void 0===n&&(n="Submit");var r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(a[n]=e[n]);return a}(e,["label","formItemOptions","children"]);return c.createElement(f,Object.assign({},{label:t},a),c.createElement(u.Button,Object.assign({},{type:"primary",htmlType:"submit"},r),n))},e.TextAreaInput=function(e){var t=e.name,a=e.label,n=e.formItemOptions;void 0===n&&(n={});var r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(a[n]=e[n]);return a}(e,["name","label","formItemOptions"]);return c.createElement(f,Object.assign({},{name:t,label:a},n),c.createElement(u.Input.TextArea,r))},e.TextInput=function(e){var t=e.name,a=e.label,n=e.type;void 0===n&&(n="text");var r=e.formItemOptions;void 0===r&&(r={});var o=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(a[n]=e[n]);return a}(e,["name","label","type","formItemOptions"]);return c.createElement(f,Object.assign({},{name:t,label:a},r),c.createElement(u.Input,Object.assign({},{type:n},o)))}});
//# sourceMappingURL=index.umd.js.map
