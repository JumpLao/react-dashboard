!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("yup"),require("react-use"),require("react-hook-form"),require("lodash"),require("react"),require("antd")):"function"==typeof define&&define.amd?define(["exports","yup","react-use","react-hook-form","lodash","react","antd"],t):t(e.form={},e.yup,e.reactUse,e.useForm,e.lodash,e.react,e.antd)}(this,function(e,t,n,r,a,o,u){var l="default"in r?r.default:r;a=a&&a.hasOwnProperty("default")?a.default:a;var i="default"in o?o.default:o,c=function(e){var t,n=e.name;void 0===n&&(n=void 0);var l=e.label;void 0===l&&(l=void 0);var c=e.colon;void 0===c&&(c=!1);var f=e.valueKey;void 0===f&&(f="value");var s=e.changeEvent;void 0===s&&(s="onChange");var v=e.eventValueGetter;void 0===v&&(v=function(e){return e.target.value});var m=e.children,d=e.formItemLayout;void 0===d&&(d={labelAlign:"right",labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}});var p=e.onValueChange;void 0===p&&(p=function(e){});var b,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["name","label","colon","valueKey","changeEvent","eventValueGetter","children","formItemLayout","onValueChange"]),g=r.useFormContext(),y=g.register,O=g.unregister,E=g.setValue,x=g.errors,j=g.getValues,I=o.useState(""),V=I[0],C=I[1];o.useEffect(function(){return n?(console.log("register field",n),y({name:n}),function(){return O(n)}):function(){}},[y,n,O]),o.useEffect(function(){var e=a.get(x,n);return e&&C(e.message),function(){C("")}},[x,n]),V&&(b="error");var S=a.get(j(),n),q=Object.assign({},h,((t={})[s]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=v.apply(void 0,e);console.log("update field",n,r),E(n,r),p(r)},t[f]=S,t));return i.createElement(u.Form.Item,Object.assign({},d,{colon:c,hasFeedback:!1,label:l,validateStatus:b,help:V,required:!1}),i.Children.map(m,function(e,t){return i.cloneElement(e,Object.assign({},{key:t},q))}))};e.Form=function(e){var a=e.children,o=e.onSubmit,c=e.defaultValues;void 0===c&&(c={});var f=e.validationSchema;void 0===f&&(f=t.object({})),n.useDeepCompareEffect(function(){console.log("default value change");var e=s.getValues();return Object.keys(e).forEach(function(e){try{s.setValue(e,c[e])}catch(e){throw console.log(e),e}}),function(){}},[c]);var s=l({defaultValues:c,validationSchema:f});return i.createElement(r.FormContext,s,i.createElement(u.Form,{onSubmit:s.handleSubmit(function(e,t){o(e)})},a))},e.InputWrapper=c,e.SubmitButton=function(e){var t=e.label;void 0===t&&(t="Submit");var n=e.formItemOptions;void 0===n&&(n={});var r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["label","formItemOptions"]);return i.createElement(c,n,i.createElement(u.Button,Object.assign({},{htmlType:"submit"},r),t))},e.TextAreaInput=function(e){var t=e.name,n=e.label,r=e.formItemOptions;void 0===r&&(r={});var a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["name","label","formItemOptions"]);return i.createElement(c,Object.assign({},{name:t,label:n},r),i.createElement(u.Input.TextArea,a))},e.TextInput=function(e){var t=e.name,n=e.label,r=e.type;void 0===r&&(r="text");var a=e.formItemOptions;void 0===a&&(a={});var o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(e,["name","label","type","formItemOptions"]);return i.createElement(c,Object.assign({},{name:t,label:n},a),i.createElement(u.Input,Object.assign({},{type:r},o)))}});
//# sourceMappingURL=index.umd.js.map
