!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("yup"),require("react-use"),require("react-hook-form"),require("lodash"),require("react"),require("antd")):"function"==typeof define&&define.amd?define(["exports","yup","react-use","react-hook-form","lodash","react","antd"],t):t(e.form={},e.yup,e.reactUse,e.useForm,e.lodash,e.react,e.antd)}(this,function(e,t,n,a,r,o,l){var u="default"in a?a.default:a;r=r&&r.hasOwnProperty("default")?r.default:r;var i="default"in o?o.default:o,c=function(e){var t,n=e.name;void 0===n&&(n=void 0);var u=e.label;void 0===u&&(u=" ");var c=e.colon;void 0===c&&(c=!1);var s=e.defaultValueKey;void 0===s&&(s="defaultValue");var f=e.changeEvent;void 0===f&&(f="onChange");var m=e.eventValueGetter;void 0===m&&(m=function(e){return e.target.value});var v=e.children,d=e.formItemLayout;void 0===d&&(d={labelAlign:"right",labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}});var p=e.onValueChange;void 0===p&&(p=function(e){});var b,h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["name","label","colon","defaultValueKey","changeEvent","eventValueGetter","children","formItemLayout","onValueChange"]),g=a.useFormContext(),y=g.register,O=g.unregister,x=g.setValue,j=g.errors,E=g.getValues,I=o.useState(""),V=I[0],C=I[1];o.useEffect(function(){return n?(console.log("register field",n),y({name:n}),function(){return O(n)}):function(){}},[y,n,O]),o.useEffect(function(){var e=r.get(j,n);return e&&C(e.message),function(){C("")}},[j,n]),V&&(b="error");var S=r.get(E(),n),w=Object.assign({},h,((t={})[f]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var a=m.apply(void 0,e);console.log("update field",n,a),x(n,a),p(a)},t[s]=S,t));return i.createElement(l.Form.Item,Object.assign({},d,{colon:c,hasFeedback:!1,label:u,validateStatus:b,help:V,required:!1}),i.Children.map(v,function(e,t){return i.cloneElement(e,Object.assign({},{key:t},w))}))};e.Form=function(e){var r=e.children,o=e.onSubmit,c=e.defaultValues;void 0===c&&(c={});var s=e.validationSchema;void 0===s&&(s=t.object({}));var f=e.formItemLayout;void 0===f&&(f={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}}),n.useDeepCompareEffect(function(){console.log("default value change");var e=m.getValues();return Object.keys(e).forEach(function(e){try{m.setValue(e,c[e])}catch(e){throw console.log(e),e}}),function(){}},[c]);var m=u({defaultValues:c,validationSchema:s});return i.createElement(a.FormContext,m,i.createElement(l.Form,Object.assign({},f,{onSubmit:m.handleSubmit(function(e,t){o(e)})}),r))},e.InputWrapper=c,e.SubmitButton=function(e){var t=e.label,n=e.formItemOptions;void 0===n&&(n={});var a=e.children;void 0===a&&(a="Submit");var r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["label","formItemOptions","children"]);return i.createElement(c,Object.assign({},{label:t},n),i.createElement(l.Button,Object.assign({},{type:"primary",htmlType:"submit"},r),a))},e.TextAreaInput=function(e){var t=e.name,n=e.label,a=e.formItemOptions;void 0===a&&(a={});var r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["name","label","formItemOptions"]);return i.createElement(c,Object.assign({},{name:t,label:n},a),i.createElement(l.Input.TextArea,r))},e.TextInput=function(e){var t=e.name,n=e.label,a=e.type;void 0===a&&(a="text");var r=e.formItemOptions;void 0===r&&(r={});var o=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["name","label","type","formItemOptions"]);return i.createElement(c,Object.assign({},{name:t,label:n},r),i.createElement(l.Input,Object.assign({},{type:a},o)))}});
//# sourceMappingURL=index.umd.js.map
