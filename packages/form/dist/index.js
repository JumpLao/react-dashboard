function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("yup"),r=require("react-use"),n=require("react-hook-form"),a=e(n),o=require("@ant-design/compatible");require("@ant-design/compatible/assets/index.css");var l=e(require("lodash")),i=require("react"),u=e(i),c=require("antd"),s=function(e){var t,r=e.name;void 0===r&&(r=void 0);var a=e.label;void 0===a&&(a=" ");var c=e.colon;void 0===c&&(c=!1);var s=e.defaultValueKey;void 0===s&&(s="defaultValue");var m=e.changeEvent;void 0===m&&(m="onChange");var v=e.eventValueGetter;void 0===v&&(v=function(e){return e.target.value});var f=e.children,p=e.formItemLayout;void 0===p&&(p={labelAlign:"right",labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}});var d=e.onValueChange;void 0===d&&(d=function(e){});var b,g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["name","label","colon","defaultValueKey","changeEvent","eventValueGetter","children","formItemLayout","onValueChange"]),h=n.useFormContext(),O=h.register,y=h.unregister,x=h.setValue,j=h.errors,E=h.getValues,I=i.useState(""),V=I[0],C=I[1];i.useEffect(function(){return r?(console.log("register field",r),O({name:r}),function(){return y(r)}):function(){}},[O,r,y]),i.useEffect(function(){var e=l.get(j,r);return e&&C(e.message),function(){C("")}},[j,r]),V&&(b="error");var q=l.get(E(),r),S=Object.assign({},g,((t={})[m]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=v.apply(void 0,e);console.log("update field",r,n),x(r,n),d(n)},t[s]=q,t));return u.createElement(o.Form.Item,Object.assign({},p,{colon:c,hasFeedback:!1,label:a,validateStatus:b,help:V,required:!1}),u.Children.map(f,function(e,t){return u.cloneElement(e,Object.assign({},{key:t},S))}))};exports.Form=function(e){var l=e.children,i=e.onSubmit,c=e.defaultValues;void 0===c&&(c={});var s=e.validationSchema;void 0===s&&(s=t.object({}));var m=e.formItemLayout;void 0===m&&(m={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}}}),r.useDeepCompareEffect(function(){console.log("default value change");var e=v.getValues();return Object.keys(e).forEach(function(e){try{v.setValue(e,c[e])}catch(e){throw console.log(e),e}}),function(){}},[c]);var v=a({defaultValues:c,validationSchema:s});return u.createElement(n.FormContext,v,u.createElement(o.Form,Object.assign({},m,{onSubmit:v.handleSubmit(function(e,t){i(e)})}),l))},exports.InputWrapper=s,exports.SubmitButton=function(e){var t=e.label,r=e.formItemOptions;void 0===r&&(r={});var n=e.children;void 0===n&&(n="Submit");var a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["label","formItemOptions","children"]);return u.createElement(s,Object.assign({},{label:t},r),u.createElement(c.Button,Object.assign({},{type:"primary",htmlType:"submit"},a),n))},exports.TextAreaInput=function(e){var t=e.name,r=e.label,n=e.formItemOptions;void 0===n&&(n={});var a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["name","label","formItemOptions"]);return u.createElement(s,Object.assign({},{name:t,label:r},n),u.createElement(c.Input.TextArea,a))},exports.TextInput=function(e){var t=e.name,r=e.label,n=e.type;void 0===n&&(n="text");var a=e.formItemOptions;void 0===a&&(a={});var o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["name","label","type","formItemOptions"]);return u.createElement(s,Object.assign({},{name:t,label:r},a),u.createElement(c.Input,Object.assign({},{type:n},o)))};
//# sourceMappingURL=index.js.map
