function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("yup"),r=require("react-use"),n=require("react-hook-form"),a=e(n),o=e(require("lodash")),l=require("react"),i=e(l),u=require("antd"),c=function(e){var t,r=e.name;void 0===r&&(r=void 0);var a=e.label;void 0===a&&(a=void 0);var c=e.colon;void 0===c&&(c=!1);var s=e.valueKey;void 0===s&&(s="value");var v=e.changeEvent;void 0===v&&(v="onChange");var f=e.eventValueGetter;void 0===f&&(f=function(e){return e.target.value});var m=e.children,p=e.formItemLayout;void 0===p&&(p={labelAlign:"right",labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}}});var d=e.onValueChange;void 0===d&&(d=function(e){});var b,g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["name","label","colon","valueKey","changeEvent","eventValueGetter","children","formItemLayout","onValueChange"]),h=n.useFormContext(),O=h.register,y=h.unregister,x=h.setValue,E=h.errors,j=h.getValues,I=l.useState(""),V=I[0],C=I[1];l.useEffect(function(){return r?(console.log("register field",r),O({name:r}),function(){return y(r)}):function(){}},[O,r,y]),l.useEffect(function(){var e=o.get(E,r);return e&&C(e.message),function(){C("")}},[E,r]),V&&(b="error");var S=o.get(j(),r),q=Object.assign({},g,((t={})[v]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=f.apply(void 0,e);console.log("update field",r,n),x(r,n),d(n)},t[s]=S,t));return i.createElement(u.Form.Item,Object.assign({},p,{colon:c,hasFeedback:!1,label:a,validateStatus:b,help:V,required:!1}),i.Children.map(m,function(e,t){return i.cloneElement(e,Object.assign({},{key:t},q))}))};exports.Form=function(e){var o=e.children,l=e.onSubmit,c=e.defaultValues;void 0===c&&(c={});var s=e.validationSchema;void 0===s&&(s=t.object({})),r.useDeepCompareEffect(function(){console.log("default value change");var e=v.getValues();return Object.keys(e).forEach(function(e){try{v.setValue(e,c[e])}catch(e){throw console.log(e),e}}),function(){}},[c]);var v=a({defaultValues:c,validationSchema:s});return i.createElement(n.FormContext,v,i.createElement(u.Form,{onSubmit:v.handleSubmit(function(e,t){l(e)})},o))},exports.InputWrapper=c,exports.SubmitButton=function(e){var t=e.label;void 0===t&&(t="Submit");var r=e.formItemOptions;void 0===r&&(r={});var n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["label","formItemOptions"]);return i.createElement(c,r,i.createElement(u.Button,Object.assign({},{htmlType:"submit"},n),t))},exports.TextAreaInput=function(e){var t=e.name,r=e.label,n=e.formItemOptions;void 0===n&&(n={});var a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["name","label","formItemOptions"]);return i.createElement(c,Object.assign({},{name:t,label:r},n),i.createElement(u.Input.TextArea,a))},exports.TextInput=function(e){var t=e.name,r=e.label,n=e.type;void 0===n&&(n="text");var a=e.formItemOptions;void 0===a&&(a={});var o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["name","label","type","formItemOptions"]);return i.createElement(c,Object.assign({},{name:t,label:r},a),i.createElement(u.Input,Object.assign({},{type:n},o)))};
//# sourceMappingURL=index.js.map
